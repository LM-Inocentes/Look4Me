<app-header style="position: fixed; top: 0px;"></app-header>
<div *ngIf="posts.length>0">
  <h2 >Posts</h2>
  <table class='res-table'>
      <thead>
      <tr>
          <th>Date</th>
          <th>Item</th>
          <th>Item Name</th>
          <th>Status</th>
          <th>Requests</th>
          <th>Approve/Reject</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor='let post of posts'>
          <td>{{post.date| date: 'MM/dd/yyyy'}}</td>
          <td>
            <img src="{{post.img}}" title="{{post.name}}">
          </td>
          <td>{{ post.name }}</td>
          <td *ngIf="!post.status;else True">Not Yet Returned</td>
          <ng-template #True>
            <td>Already Returned</td>
          </ng-template>
          <td *ngIf="post.retriever_id;else True2"> {{post.retriever_name}} <br> {{ post.retriever_email }} <br> {{ post.retriever_contactinfo }}</td>
          <ng-template #True2>
            <td>No Request</td>
          </ng-template>
          <td *ngIf="post.retriever_id;else True2">
            <div>
                <button style="color: greenyellow;">
                    Approve
                </button>
                <button style="color: rgb(238, 48, 30);">
                    Reject
                </button>
            </div>
        </td>
      </tr>
      </tbody>
  </table>
</div>

<div *ngIf="requests.length>0">
  <h2 >Requests</h2>
  <table class='res-table'>
      <thead>
      <tr>
          <th>Item</th>
          <th>Name</th>
          <th>Poster Info</th>
          <th>Status</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor='let request of requests '>
          <td>
            <img src="{{request.img}}" title="{{request.name}}">
          </td>
          <td>{{ request.name }}</td>
          <td>{{ request.poster_name }} <br> {{ request.poster_email }} <br> {{ request.poster_contactinfo }}</td>
          <td *ngIf="!request.status;else True">Not Yet Approved</td>
          <ng-template #True>
            <td>Approved</td>
          </ng-template>
      </tr>
      </tbody>
  </table>
</div>

